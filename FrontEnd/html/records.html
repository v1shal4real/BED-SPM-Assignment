<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Medical Records System</title>
    <link rel="stylesheet" href="../css/records.css">
</head>
<body>
    <!-- Header Section -->
    <header>
        <div class="header-top">
        <div class="header-top-container">
            <div class="header-contact">
            <span>(+65)</span>
            <span>English</span>
            </div>
            <p class="header-motto">Better Health Begins Here.</p>
            <a href="/login/login-signup.html" class="header-top-action">
            Login<i class='bx bx-user'></i>
            </a>
        </div>
        </div>
        <div class="nav">
        <div class="nav-logo">
            <h2>Anywhere<span>Doctor</span></h2>
        </div>
        <div class="nav-menu" id="nav-menu">
            <ul class="nav-list">
            <li class="nav-item"><a href="../html/homepage.html" class="nav-link">Home</a></li>
            <li class="nav-item"><a href="/about.html" class="nav-link">About</a></li>
            <li class="nav-item"><a href="/products.html" class="nav-link">Medication</a></li>
            <li class="nav-item"><a href="../html/records.html" class="nav-link">Appointments</a></li>
            <li class="nav-item"><a href="/list.html" class="nav-link">Tracker</a></li>
            </ul>
            <div class="header-search" style="position: relative;">
                <input type="text" placeholder="Search..." class="form-input" id="search-input">
                <i class='bx bx-search-alt-2' id="search-icon"></i>
                <!-- Suggestions container -->
                <div class="search-suggestions" id="search-suggestions"></div>
            </div>
            <div class="header-user-actions">
            <a href="wishlist.html" class="header-action-btn">
                <i class='bx bxs-heart' style="color: red;"></i>
                <span class="count"></span>
            </a>
            <a href="chats.html" class="header-action-btn">
                <i class='bx bx-message-square-dots' style="color: black;"></i>
                <span class="count"></span>
            </a>
            </div>
            <div class="header-menu">
            <i class='bx bx-menu'></i>
            </div>
        </div>
        </div>
    </header>

    <div class="container">
        <!-- Search Section -->
        <div class="search-section">
            <h2>Search Patient by ID</h2>
            <div class="search-container">
                <input type="number" id="patientIdSearch" class="search-input" placeholder="Enter Patient ID">
                <button onclick="searchPatientById()" class="search-btn">Search</button>
            </div>
        </div>

        <!-- All Patients Table -->
        <div id="patientsTableSection" class="patients-table">
            <div class="table-header">
                <h2>All Patients</h2>
            </div>
            <div id="patientsTableContainer">
                <div class="loading">Loading patients...</div>
            </div>
        </div>

        <!-- Patient Detail View -->
        <div id="patientDetailSection" class="hidden">
            <div id="patientDetailContainer"></div>
        </div>
    </div>

    <!-- Appointment Edit Modal -->
    <div id="appointmentModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeAppointmentModal()">&times;</span>
            <h2 id="appointmentModalTitle">Edit Appointment</h2>
            <form id="appointmentForm">
                <div class="form-group">
                    <label for="appointmentDateTime">Date & Time:</label>
                    <input type="datetime-local" id="appointmentDateTime" required>
                </div>
                <div class="form-group">
                    <label for="appointmentVenue">Venue:</label>
                    <input type="text" id="appointmentVenue" required>
                </div>
                <div class="form-group">
                    <label for="appointmentRoom">Room Number:</label>
                    <input type="text" id="appointmentRoom" required>
                </div>
                <div class="form-group">
                    <label for="appointmentDoctor">Doctor:</label>
                    <select id="appointmentDoctor" required>
                        <option value="">Select Doctor</option>
                    </select>
                </div>
                <div class="form-buttons">
                    <button type="button" onclick="closeAppointmentModal()" class="btn-secondary">Cancel</button>
                    <button type="submit" class="btn-primary">Save Changes</button>
                </div>
            </form>
        </div>
    </div>
    
    <!-- Medical Detail Modal -->
    <div id="medicalDetailModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeMedicalDetailModal()">&times;</span>
            <h2 id="medicalDetailModalTitle">Medical Detail</h2>
            <form id="medicalDetailForm">
                <div class="form-group">
                    <label for="recordSelect">Appointment Record:</label>
                    <select id="recordSelect" required>
                        <option value="">Select Appointment</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="symptoms">Symptoms:</label>
                    <textarea id="symptoms" style="height: 60px; resize: vertical;"></textarea>
                </div>
                <div class="form-group">
                    <label for="diagnosis">Diagnosis:</label>
                    <input type="text" id="diagnosis" required>
                </div>
                <div class="form-group">
                    <label for="bloodPressure">Blood Pressure:</label>
                    <input type="text" id="bloodPressure" placeholder="e.g., 120/80">
                </div>
                <div class="form-group">
                    <label for="temperature">Temperature (Â°C):</label>
                    <input type="number" id="temperature" step="0.1" min="30" max="45">
                </div>
                <div class="form-group">
                    <label for="allergies">Allergies:</label>
                    <input type="text" id="allergies">
                </div>
                <div class="form-group">
                    <label for="labResults">Lab Results:</label>
                    <textarea id="labResults" style="height: 60px; resize: vertical;"></textarea>
                </div>
                <div class="form-group">
                    <label for="doctorNotes">Doctor Notes:</label>
                    <textarea id="doctorNotes" style="height: 80px; resize: vertical;"></textarea>
                </div>
                <div class="form-group">
                    <label for="followUpRequired">Follow-up Required:</label>
                    <select id="followUpRequired">
                        <option value="0">No</option>
                        <option value="1">Yes</option>
                    </select>
                </div>
                <div class="form-buttons">
                    <button type="button" onclick="closeMedicalDetailModal()" class="btn-secondary">Cancel</button>
                    <button type="submit" class="btn-primary" id="saveMedicalDetailBtn">Save</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Medical Detail View Modal -->
    <div id="medicalDetailViewModal" class="modal">
        <div class="modal-content" style="max-width: 600px;">
            <span class="close" onclick="closeMedicalDetailViewModal()">&times;</span>
            <div id="medicalDetailViewContent"></div>
        </div>
    </div>
    <script src="../scripts/records.js"></script>
</body>
</html>